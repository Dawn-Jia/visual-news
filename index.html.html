<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>《哪吒之魔童闹海》数据新闻专题</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#E63946',
            secondary: '#F1FAEE',
            accent: '#1D3557',
            light: '#A8DADC',
            dark: '#1D3557',
          },
          fontFamily: {
            inter: ['Inter', 'sans-serif'],
          },
        },
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0,0,0,0.5);
      }
      .transition-navbar {
        transition: background-color 0.3s ease, padding 0.3s ease;
      }
      .animate-float {
        animation: float 6s ease-in-out infinite;
      }
      @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
        100% { transform: translateY(0px); }
      }
      .carousel-item {
        transition: transform 0.5s ease-in-out;
      }
      .article-card {
        transition: all 0.3s ease;
      }
      .article-card:hover {
        transform: translateY(-10px);
      }
    }
  </style>
</head>
<body class="font-inter bg-secondary text-dark">
  <!-- 导航栏 -->
  <header id="navbar" class="fixed w-full z-50 transition-navbar py-4">
    <div class="container mx-auto px-4 flex justify-between items-center">
      <a href="#" class="text-2xl font-bold text-white text-shadow flex items-center">
        <i class="fa fa-newspaper-o mr-2"></i>哪吒票房数据新闻
      </a>
      <nav class="hidden md:flex space-x-8">
        <a href="#" class="text-white hover:text-light transition-colors">首页</a>
        <a href="#boxoffice" class="text-white hover:text-light transition-colors">票房分析</a>
        <a href="#screening" class="text-white hover:text-light transition-colors">排片与上座率</a>
        <a href="#audience" class="text-white hover:text-light transition-colors">观众分布</a>
      </nav>
      <button class="md:hidden text-white text-2xl">
        <i class="fa fa-bars"></i>
      </button>
    </div>
  </header>

  <!-- 轮播图区域 -->
  <section class="relative h-screen overflow-hidden">
    <div id="carousel" class="relative h-full">
      <div class="carousel-items h-full">
        <div class="carousel-item absolute inset-0 opacity-100">
          <div class="absolute inset-0 bg-gradient-to-r from-accent/80 to-primary/60 z-10"></div>
          <img src="https://p3-sign.bdxiguaimg.com/tos-cn-i-0026/ogpeF1QIA8TbAgUQfELPAdNGAIEtABcAenvDGr~tplv-pk90l89vgd-crop-center:864:486.jpeg?appId=1768&biz_tag=video1609_custom%2Fnone&channelId=0&customType=custom%2Fnone&from=401_large_image_list&imageType=video1609&isImmersiveScene=0&is_stream=0&lk3s=9d3f5bff&logId=2025040320335458C08DBBEBF24E39B2A8&requestFrom=401&x-expires=1775219635&x-signature=ZPh%2BBLZcdvV8lChMGfPu%2FZNfwWo%3D" alt="哪吒之魔童闹海海报" class="w-full h-full object-cover">
          <div class="absolute inset-0 flex items-center justify-center z-20 px-6">
            <div class="text-center max-w-3xl">
              <h1 class="text-[clamp(2.5rem,5vw,4rem)] font-bold text-white mb-6 text-shadow">《哪吒之魔童闹海》票房创纪录</h1>
            </div>
          </div>
        </div>
        <div class="carousel-item absolute inset-0 opacity-0">
          <div class="absolute inset-0 bg-gradient-to-r from-accent/80 to-primary/60 z-10"></div>
           <img src="https://p3-sign.bdxiguaimg.com/tos-cn-i-0026/ogpeF1QIA8TbAgUQfELPAdNGAIEtABcAenvDGr~tplv-pk90l89vgd-crop-center:864:486.jpeg?appId=1768&biz_tag=video1609_custom%2Fnone&channelId=0&customType=custom%2Fnone&from=401_large_image_list&imageType=video1609&isImmersiveScene=0&is_stream=0&lk3s=9d3f5bff&logId=2025040320335458C08DBBEBF24E39B2A8&requestFrom=401&x-expires=1775219635&x-signature=ZPh%2BBLZcdvV8lChMGfPu%2FZNfwWo%3D" alt="哪吒之魔童闹海海报" class="w-full h-full object-cover">
          <div class="absolute inset-0 flex items-center justify-center z-20 px-6">
            <div class="text-center max-w-3xl">
              <h1 class="text-[clamp(2.5rem,5vw,4rem)] font-bold text-white mb-6 text-shadow">动画电影市场新里程碑</h1>
            </div>
          </div>
        </div>
      </div>
      <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 z-30 flex space-x-3">
        <button class="w-3 h-3 rounded-full bg-white opacity-100 carousel-dot" data-index="0"></button>
        <button class="w-3 h-3 rounded-full bg-white opacity-50 carousel-dot" data-index="1"></button>
      </div>
      <button class="absolute top-1/2 left-4 transform -translate-y-1/2 z-30 text-white text-4xl carousel-prev">
        <i class="fa fa-chevron-left"></i>
      </button>
      <button class="absolute top-1/2 right-4 transform -translate-y-1/2 z-30 text-white text-4xl carousel-next">
        <i class="fa fa-chevron-right"></i>
      </button>
    </div>
  </section>

  <!-- 票房分析部分 -->
  <section id="boxoffice" class="py-20 bg-white">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-bold text-dark mb-4">票房增长与分布分析</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">
          《哪吒之魔童闹海》的票房走势创造了中国动画电影的新纪录
        </p>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-5 gap-12">
        <div class="lg:col-span-2">
          <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-2xl font-semibold mb-4 text-primary">票房爆发式增长</h3>
            <p class="text-gray-700 mb-6 leading-relaxed">
              《哪吒之魔童闹海》自上映以来，票房呈现爆发式增长。首周票房突破20亿，刷新了中国动画电影的首周票房纪录。
              在上映第10天，票房突破30亿，第20天突破40亿，最终在上映第30天突破50亿大关，成为中国影史票房第十名。
            </p>
            <div class="space-y-4 mb-6">
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-sm font-medium text-gray-900">首周票房</span>
                  <span class="text-sm font-medium text-primary">20.1亿</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div class="bg-primary h-2.5 rounded-full" style="width: 40%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-sm font-medium text-gray-900">第二周票房</span>
                  <span class="text-sm font-medium text-primary">12.5亿</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div class="bg-primary h-2.5 rounded-full" style="width: 25%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-sm font-medium text-gray-900">第三周票房</span>
                  <span class="text-sm font-medium text-primary">8.3亿</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div class="bg-primary h-2.5 rounded-full" style="width: 17%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-sm font-medium text-gray-900">第四周及以后</span>
                  <span class="text-sm font-medium text-primary">9.3亿</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div class="bg-primary h-2.5 rounded-full" style="width: 18%"></div>
                </div>
              </div>
            </div>
            <p class="text-gray-700 leading-relaxed">
              从票房占比来看，首周票房占总票房的40%，显示出影片极强的市场爆发力。
              而后续几周票房的稳步下降则符合一般电影的票房走势规律。值得注意的是，影片在第四周及以后仍保持了9.3亿的票房，
              显示出良好的长尾效应，这主要得益于影片口碑的持续发酵和观众的二次观影。
            </p>
          </div>
          <div class="bg-white p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4">影史排名对比</h3>
            <p class="text-gray-700 mb-6 leading-relaxed">
              《哪吒之魔童闹海》凭借50.2亿的票房成绩，成功跻身中国影史票房前十，成为首部进入前十的动画电影。
              这一成绩不仅超越了前作《哪吒之魔童降世》，也标志着中国动画电影在市场影响力上的重大突破。
            </p>
            <div class="relative h-64">
              <canvas id="boxofficeRankingChart"></canvas>
            </div>
          </div>
        </div>
        <div class="lg:col-span-3">
          <div class="bg-white p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-6">票房增长及分布</h3>
            <div class="tableauPlaceholder" id="viz1750990664089" style="position: relative; height: 800px;">
              <noscript>
                <img 
                  alt='票房增长及分布' 
                  src='https://public.tableau.com/static/images/_1/_17509615224010/1/1_rss.png' 
                  style='border: none; width: 100%; height: 100%;' 
                />
              </noscript>
              <object class='tableauViz' style='display:block; width: 100%; height: 100%;'>
                <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
                <param name='embed_code_version' value='3' />
                <param name='site_root' value='' />
                <param name='name' value='_17509615224010/1' />
                <param name='tabs' value='no' />
                <param name='toolbar' value='yes' />
                <param name='static_image' value='https://public.tableau.com/static/images/_1/_17509615224010/1/1.png' />
                <param name='animate_transition' value='yes' />
                <param name='display_static_image' value='yes' />
                <param name='display_spinner' value='yes' />
                <param name='display_overlay' value='yes' />
                <param name='display_count' value='yes' />
                <param name='language' value='en-US' />
              </object>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 排片与上座率部分 -->
  <section id="screening" class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-bold text-dark mb-4">排片与上座率分析</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">
          影院的信任与观众的热情共同推动票房奇迹
        </p>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-5 gap-12">
        <div class="lg:col-span-3">
          <div class="bg-white p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-6">上座率，场次，排片占比</h3>
            <div class="tableauPlaceholder" id="viz1750990555053" style="position: relative; height: 800px;">
              <noscript>
                <img 
                  alt='上座率，场次，排片占比' 
                  src='https://public.tableau.com/static/images/_1/_17509616915900/2/1_rss.png' 
                  style='border: none; width: 100%; height: 100%;' 
                />
              </noscript>
              <object class='tableauViz' style='display:block; width: 100%; height: 100%;'>
                <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
                <param name='embed_code_version' value='3' />
                <param name='site_root' value='' />
                <param name='name' value='_17509616915900/2' />
                <param name='tabs' value='no' />
                <param name='toolbar' value='yes' />
                <param name='static_image' value='https://public.tableau.com/static/images/_1/_17509616915900/2/1.png' />
                <param name='animate_transition' value='yes' />
                <param name='display_static_image' value='yes' />
                <param name='display_spinner' value='yes' />
                <param name='display_overlay' value='yes' />
                <param name='display_count' value='yes' />
                <param name='language' value='en-US' />
              </object>
            </div>
          </div>
        </div>
        <div class="lg:col-span-2">
          <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-2xl font-semibold mb-4 text-primary">排片策略与市场反馈</h3>
            <p class="text-gray-700 mb-6 leading-relaxed">
              影院对《哪吒之魔童闹海》的信心十足，上映初期排片占比就超过40%，这一数据充分显示了影院对影片票房潜力的高度认可。
              随着影片口碑的发酵，排片占比在第二周仍保持在35%以上，为影片持续创造票房佳绩提供了有力保障。
            </p>
            <div class="relative h-64 mb-6">
              <canvas id="screeningChart"></canvas>
            </div>
            <p class="text-gray-700 leading-relaxed">
              从上图可以看出，影片的排片占比与票房走势呈现出明显的正相关关系。高排片带来高曝光，进而推动票房增长。
              而影片的高口碑又进一步促使影院保持较高的排片量，形成了良性循环。
            </p>
          </div>
          <div class="bg-white p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4">上座率分析</h3>
            <p class="text-gray-700 mb-6 leading-relaxed">
              《哪吒之魔童闹海》的上座率始终保持在较高水平，尤其是在周末和节假日，上座率经常超过80%。
              这一数据远高于同期上映的其他影片，显示出观众对影片的高度热情。
            </p>
            <div class="grid grid-cols-2 gap-4 mb-6">
              <div class="bg-light/30 p-4 rounded-lg text-center">
                <div class="text-3xl font-bold text-primary mb-1">65%</div>
                <div class="text-gray-600">平均上座率</div>
              </div>
              <div class="bg-light/30 p-4 rounded-lg text-center">
                <div class="text-3xl font-bold text-primary mb-1">85%</div>
                <div class="text-gray-600">周末平均上座率</div>
              </div>
              <div class="bg-light/30 p-4 rounded-lg text-center">
                <div class="text-3xl font-bold text-primary mb-1">92%</div>
                <div class="text-gray-600">节假日平均上座率</div>
              </div>
              <div class="bg-light/30 p-4 rounded-lg text-center">
                <div class="text-3xl font-bold text-primary mb-1">120%</div>
                <div class="text-gray-600">最高上座率</div>
              </div>
            </div>
            <p class="text-gray-700 leading-relaxed">
              值得注意的是，影片在上映后期，尽管排片量有所下降，但上座率依然保持在较高水平，这表明影片的观众吸引力具有很强的持续性，
              不仅仅依赖于初期的宣传和热度。
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 观众分布部分 -->
  <section id="audience" class="py-20 bg-white">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-bold text-dark mb-4">观众地域分布分析</h2>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-5 gap-12">
        <div class="lg:col-span-2">
          <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-2xl font-semibold mb-4 text-primary">地域票房贡献分析</h3>
            <p class="text-gray-700 mb-6 leading-relaxed">
              结合上文总票房地区分布来看，一线城市贡献了约30%的票房，二线城市贡献了约40%的票房，成为票房的主要来源。
              值得注意的是，三线及以下城市的票房占比达到了30%，显示出中国电影市场下沉的趋势。此外，从全球票房来看，除了中国票房成就显著以外，北美地区和澳大利亚的票房也较高。
            </p>
            <div class="relative h-64 mb-6">
              <canvas id="regionChart"></canvas>
            </div>
            <p class="text-gray-700 leading-relaxed">
              这种地域分布特征表明，《哪吒之魔童闹海》不仅在一线城市获得了广泛认可，也在二三线城市及海外市场赢得了观众的喜爱。
              这得益于影片强大的故事吸引力和文化共鸣，以及中国电影市场基础设施的不断完善。
            </p>
          </div>
          <div class="bg-white p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4">重点城市票房表现</h3>
            <p class="text-gray-700 mb-6 leading-relaxed">
              在单个城市票房排名中，北京、上海、广州、深圳四大一线城市稳居前列，成都、重庆、武汉等新一线城市紧随其后。
              这些城市不仅人口众多，而且电影市场成熟，观众对优质电影的消费意愿强烈。
            </p>
            <div class="space-y-4">
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-sm font-medium text-gray-900">北京</span>
                  <span class="text-sm font-medium text-primary">3.2亿</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div class="bg-primary h-2.5 rounded-full" style="width: 100%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-sm font-medium text-gray-900">上海</span>
                  <span class="text-sm font-medium text-primary">2.9亿</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div class="bg-primary h-2.5 rounded-full" style="width: 90%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-sm font-medium text-gray-900">广州</span>
                  <span class="text-sm font-medium text-primary">2.1亿</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div class="bg-primary h-2.5 rounded-full" style="width: 65%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-sm font-medium text-gray-900">深圳</span>
                  <span class="text-sm font-medium text-primary">1.9亿</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div class="bg-primary h-2.5 rounded-full" style="width: 60%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-sm font-medium text-gray-900">成都</span>
                  <span class="text-sm font-medium text-primary">1.8亿</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div class="bg-primary h-2.5 rounded-full" style="width: 56%"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="lg:col-span-3">
          <div class="bg-white p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-6">观众地域分布</h3>
            <div class="tableauPlaceholder" id="viz1750990480843" style="position: relative; height: 800px;">
              <noscript>
                <img 
                  alt='观众地域分布' 
                  src='https://public.tableau.com/static/images/_1/_17509617402200/3/1_rss.png' 
                  style='border: none; width: 100%; height: 100%;' 
                />
              </noscript>
              <object class='tableauViz' style='display:block; width: 100%; height: 100%;'>
                <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
                <param name='embed_code_version' value='3' />
                <param name='site_root' value='' />
                <param name='name' value='_17509617402200/3' />
                <param name='tabs' value='no' />
                <param name='toolbar' value='yes' />
                <param name='static_image' value='https://public.tableau.com/static/images/_1/_17509617402200/3/1.png' />
                <param name='animate_transition' value='yes' />
                <param name='display_static_image' value='yes' />
                <param name='display_spinner' value='yes' />
                <param name='display_overlay' value='yes' />
                <param name='display_count' value='yes' />
                <param name='language' value='en-US' />
              </object>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- 页脚 -->
  <footer class="bg-dark text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div>
          <h3 class="text-xl font-semibold mb-4">哪吒票房数据新闻</h3>
          <p class="text-gray-400 mb-6">
            深入分析《哪吒之魔童闹海》的票房奇迹，呈现中国动画电影的发展趋势。
          </p>
          <div class="flex space-x-4">
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa fa-weibo"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa fa-wechat"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa fa-twitter"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa fa-facebook"></i>
            </a>
          </div>
        </div>
        <div>
          <h3 class="text-xl font-semibold mb-4">快速链接</h3>
          <ul class="space-y-2">
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">首页</a></li>
            <li><a href="#boxoffice" class="text-gray-400 hover:text-white transition-colors">票房分析</a></li>
            <li><a href="#screening" class="text-gray-400 hover:text-white transition-colors">排片与上座率</a></li>
            <li><a href="#audience" class="text-gray-400 hover:text-white transition-colors">观众分布</a></li>
            <li><a href="#articles" class="text-gray-400 hover:text-white transition-colors">相关报道</a></li>
          </ul>
        </div>
        <div>
          <h3 class="text-xl font-semibold mb-4">订阅最新资讯</h3>
          <p class="text-gray-400 mb-4">
            订阅我们的新闻简报，获取最新的电影市场分析和行业动态。
          </p>
          <form class="flex">
            <input type="email" placeholder="输入您的邮箱" class="px-4 py-2 rounded-l-md w-full focus:outline-none text-dark">
            <button type="submit" class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-r-md transition-colors">
              订阅
            </button>
          </form>
        </div>
      </div>
      <div class="border-t border-gray-800 mt-12 pt-8 text-center text-gray-400">
        <p>© 2025 哪吒票房数据新闻专题 | 保留所有权利</p>
        <p class="mt-2">作者：中国社会科学院大学 刘欣雨</p>
        <p class="mt-2">数据来源：猫眼</p>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
    // 导航栏滚动效果
    window.addEventListener('scroll', function() {
      const navbar = document.getElementById('navbar');
      if (window.scrollY > 50) {
        navbar.classList.add('bg-dark', 'shadow-lg');
        navbar.classList.remove('py-4');
        navbar.classList.add('py-2');
      } else {
        navbar.classList.remove('bg-dark', 'shadow-lg');
        navbar.classList.remove('py-2');
        navbar.classList.add('py-4');
      }
    });

    // 轮播图功能
    document.addEventListener('DOMContentLoaded', function() {
      const carouselItems = document.querySelectorAll('.carousel-item');
      const dots = document.querySelectorAll('.carousel-dot');
      const prevBtn = document.querySelector('.carousel-prev');
      const nextBtn = document.querySelector('.carousel-next');
      let currentIndex = 0;

      function showSlide(index) {
        carouselItems.forEach(item => {
          item.style.opacity = '0';
          item.style.zIndex = '0';
        });
        dots.forEach(dot => {
          dot.style.opacity = '0.5';
        });

        carouselItems[index].style.opacity = '1';
        carouselItems[index].style.zIndex = '1';
        dots[index].style.opacity = '1';
      }

      function nextSlide() {
        currentIndex = (currentIndex + 1) % carouselItems.length;
        showSlide(currentIndex);
      }

      function prevSlide() {
        currentIndex = (currentIndex - 1 + carouselItems.length) % carouselItems.length;
        showSlide(currentIndex);
      }

      // 自动轮播
      let slideInterval = setInterval(nextSlide, 5000);

      // 点击事件
      nextBtn.addEventListener('click', function() {
        clearInterval(slideInterval);
        nextSlide();
        slideInterval = setInterval(nextSlide, 5000);
      });

      prevBtn.addEventListener('click', function() {
        clearInterval(slideInterval);
        prevSlide();
        slideInterval = setInterval(nextSlide, 5000);
      });

      // 点击指示点
      dots.forEach((dot, index) => {
        dot.addEventListener('click', function() {
          clearInterval(slideInterval);
          currentIndex = index;
          showSlide(currentIndex);
          slideInterval = setInterval(nextSlide, 5000);
        });
      });

      // 初始化显示第一张幻灯片
      showSlide(0);
    });

    // 平滑滚动
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        if (targetElement) {
          window.scrollTo({
            top: targetElement.offsetTop - 80,
            behavior: 'smooth'
          });
        }
      });
    });

    // 初始化Chart.js图表
    document.addEventListener('DOMContentLoaded', function() {
      // 票房排名图表
      const rankingCtx = document.getElementById('boxofficeRankingChart').getContext('2d');
      new Chart(rankingCtx, {
        type: 'bar',
        data: {
          labels: ['战狼2', '哪吒之魔童降世', '你好，李焕英', '流浪地球2', '长津湖', '复仇者联盟4', '流浪地球', '唐人街探案3', '美人鱼', '哪吒之魔童闹海'],
          datasets: [{
            label: '票房（亿）',
            data: [56.94, 50.35, 54.13, 40.29, 57.75, 42.50, 46.86, 45.23, 34.02, 50.20],
            backgroundColor: [
              'rgba(230, 57, 70, 0.7)',
              'rgba(230, 57, 70, 0.7)',
              'rgba(230, 57, 70, 0.7)',
              'rgba(230, 57, 70, 0.7)',
              'rgba(230, 57, 70, 0.7)',
              'rgba(230, 57, 70, 0.7)',
              'rgba(230, 57, 70, 0.7)',
              'rgba(230, 57, 70, 0.7)',
              'rgba(230, 57, 70, 0.7)',
              'rgba(230, 57, 70, 1)'
            ],
            borderColor: [
              'rgba(230, 57, 70, 1)',
              'rgba(230, 57, 70, 1)',
              'rgba(230, 57, 70, 1)',
              'rgba(230, 57, 70, 1)',
              'rgba(230, 57, 70, 1)',
              'rgba(230, 57, 70, 1)',
              'rgba(230, 57, 70, 1)',
              'rgba(230, 57, 70, 1)',
              'rgba(230, 57, 70, 1)',
              'rgba(230, 57, 70, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });

      // 排片图表
      const screeningCtx = document.getElementById('screeningChart').getContext('2d');
      new Chart(screeningCtx, {
        type: 'line',
        data: {
          labels: ['第1周', '第2周', '第3周', '第4周', '第5周'],
          datasets: [{
            label: '排片占比(%)',
            data: [42, 35, 30, 25, 20],
            borderColor: 'rgba(29, 53, 87, 1)',
            backgroundColor: 'rgba(29, 53, 87, 0.1)',
            tension: 0.3,
            fill: true
          }, {
            label: '票房(亿)',
            data: [20.1, 12.5, 8.3, 6.5, 2.8],
            borderColor: 'rgba(230, 57, 70, 1)',
            backgroundColor: 'rgba(230, 57, 70, 0.1)',
            tension: 0.3,
            fill: true,
            yAxisID: 'y1'
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: '排片占比(%)'
              }
            },
            y1: {
              beginAtZero: true,
              position: 'right',
              title: {
                display: true,
                text: '票房(亿)'
              },
              grid: {
                drawOnChartArea: false
              }
            }
          }
        }
      });

      // 地域分布图表
      const regionCtx = document.getElementById('regionChart').getContext('2d');
      new Chart(regionCtx, {
        type: 'doughnut',
        data: {
          labels: ['一线城市', '二线城市', '三线及以下城市'],
          datasets: [{
            data: [30, 40, 30],
            backgroundColor: [
              'rgba(230, 57, 70, 0.8)',
              'rgba(168, 218, 220, 0.8)',
              'rgba(29, 53, 87, 0.8)'
            ],
            borderColor: [
              'rgba(230, 57, 70, 1)',
              'rgba(168, 218, 220, 1)',
              'rgba(29, 53, 87, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'bottom'
            }
          }
        }
      });
    });

    // 加载Tableau图表
    document.addEventListener('DOMContentLoaded', function() {
      // 检查是否已经加载了Tableau API
      if (typeof tableau === 'undefined') {
        // 加载Tableau API
        var script = document.createElement('script');
        script.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
        script.onload = function() {
          initTableauVisualizations();
        };
        document.body.appendChild(script);
      } else {
        // 如果API已经加载，直接初始化图表
        initTableauVisualizations();
      }
    });

    function initTableauVisualizations() {
      // 初始化第一个图表（票房增长及分布）
      var vizElement1 = document.getElementById('viz1750990664089');
      if (vizElement1) {
        var divElement1 = vizElement1;
        var objectElement1 = divElement1.getElementsByTagName('object')[0];
        if (objectElement1) {
          objectElement1.style.display = 'block';
          // 根据窗口大小调整图表尺寸
          if (divElement1.offsetWidth > 800) {
            objectElement1.style.width = '100%';
            objectElement1.style.height = '800px';
          } else if (divElement1.offsetWidth > 500) {
            objectElement1.style.width = '100%';
            objectElement1.style.height = '800px';
          } else {
            objectElement1.style.width = '100%';
            objectElement1.style.height = '600px';
          }
        }
      }
      
      // 初始化第二个图表（上座率，场次，排片占比）
      var vizElement2 = document.getElementById('viz1750990555053');
      if (vizElement2) {
        var divElement2 = vizElement2;
        var objectElement2 = divElement2.getElementsByTagName('object')[0];
        if (objectElement2) {
          objectElement2.style.display = 'block';
          // 根据窗口大小调整图表尺寸
          if (divElement2.offsetWidth > 800) {
            objectElement2.style.width = '100%';
            objectElement2.style.height = '800px';
          } else if (divElement2.offsetWidth > 500) {
            objectElement2.style.width = '100%';
            objectElement2.style.height = '800px';
          } else {
            objectElement2.style.width = '100%';
            objectElement2.style.height = '600px';
          }
        }
      }
      
      // 初始化第三个图表（观众地域分布）
      var vizElement3 = document.getElementById('viz1750990480843');
      if (vizElement3) {
        var divElement3 = vizElement3;
        var objectElement3 = divElement3.getElementsByTagName('object')[0];
        if (objectElement3) {
          objectElement3.style.display = 'block';
          // 根据窗口大小调整图表尺寸
          if (divElement3.offsetWidth > 800) {
            objectElement3.style.width = '100%';
            objectElement3.style.height = '800px';
          } else if (divElement3.offsetWidth > 500) {
            objectElement3.style.width = '100%';
            objectElement3.style.height = '800px';
          } else {
            objectElement3.style.width = '100%';
            objectElement3.style.height = '600px';
          }
        }
      }
    }
  </script>
</body>
</html>  
  